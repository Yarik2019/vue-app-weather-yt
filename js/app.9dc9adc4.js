(function(){"use strict";var e={8772:function(e,t,a){var s=a(9242),o=a(3396);const r={class:"flex flex-col min-h-screen font-Roboto bg-weather-primary"};function i(e,t,a,i,l,n){const c=(0,o.up)("SiteNavigation"),u=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)("div",r,[(0,o.Wm)(c),(0,o.Wm)(u,null,{default:(0,o.w5)((({Component:e})=>[(0,o.Wm)(s.uT,{name:"page",mode:"out-in"},{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.j4)((0,o.LL)(e)))])),_:2},1024)])),_:1})])}const l={class:"sticky z-10 top-0 bg-weather-primary shadow-lg"},n={class:"container flex flex-col sm:flex-row items-center gap-4 text-white py-6"},c=(0,o._)("div",{class:"flex items-center text-white gap-3"},[(0,o._)("i",{class:"fa-solid fa-sun text-2xl text-[#fff]"}),(0,o._)("p",{class:"text-2xl text-[#fff]"},"The Local Weather")],-1),u={class:"flex gap-3 flex-1 justify-end"},d=(0,o._)("div",{class:"text-black text-left"},[(0,o._)("h1",{class:"text-2xl mb-1"},"About:"),(0,o._)("p",{class:"mb-4"}," The Local Weather allows you to track the current and future weather of cities of your choosing. "),(0,o._)("h2",{class:"text-2xl"},"How it works:"),(0,o._)("ol",{class:"list-decimal list-inside mb-4"},[(0,o._)("li",null," Search for your city by entering the name into the search bar. "),(0,o._)("li",null," Select a city within the results, this will take you to the current weather for your selection. "),(0,o._)("li",null,' Track the city by clicking on the "+" icon in the top right. This will save the city to view at a later time on the home page. ')]),(0,o._)("h2",{class:"text-2xl"},"Removing a city"),(0,o._)("p",null," If you no longer wish to track a city, simply select the city within the home page. At the bottom of the page, there will be am option to delete the city. ")],-1);function m(e,t,a,s,r,i){const m=(0,o.up)("router-link"),h=(0,o.up)("BaseModal");return(0,o.wg)(),(0,o.iD)("header",l,[(0,o._)("nav",n,[(0,o.Wm)(m,{to:{name:"home"}},{default:(0,o.w5)((()=>[c])),_:1}),(0,o._)("div",u,[(0,o._)("i",{onClick:t[0]||(t[0]=(...e)=>i.toggleModal&&i.toggleModal(...e)),class:"fa-solid fa-circle-info text-2xl text-[#fff] hover:text-weather-secondary duration-150 cursor-pointer"}),(0,o._)("i",{onClick:t[1]||(t[1]=(...e)=>i.addCity&&i.addCity(...e)),class:"fa-soild fa-plus text-2xl text-[#fff] hover:text-weather-secondary duration-150 cursor-pointer"})]),(0,o.Wm)(h,{modalActive:r.modalActive,onCloseModal:i.toggleModal},{default:(0,o.w5)((()=>[d])),_:1},8,["modalActive","onCloseModal"])])])}a(7658);const h={class:"absolute w-full bg-[#000] bg-opacity-30 h-screen top-0 left-0 flex justify-center px-8"},p={key:0,class:"p-4 bg-[#fff] self-start mt-32 max-w-screen-md"};function f(e,t,a,r,i,l){return(0,o.wg)(),(0,o.j4)(s.uT,{name:"modal-outer"},{default:(0,o.w5)((()=>[(0,o.wy)((0,o._)("div",h,[(0,o.Wm)(s.uT,{name:"modal-inner"},{default:(0,o.w5)((()=>[a.modalActive?((0,o.wg)(),(0,o.iD)("div",p,[(0,o.WI)(e.$slots,"default"),(0,o._)("button",{class:"text-[#fff] mt-8 bg-weather-primary py-2 px-6",onClick:t[0]||(t[0]=e=>l.close())}," close ")])):(0,o.kq)("",!0)])),_:3})],512),[[s.F8,a.modalActive]])])),_:3})}var w={props:{modalActive:{type:Boolean,default:!1},closeModal:{type:Boolean,default:!1}},methods:{close(){this.$emit("closeModal")}}},y=a(89);const g=(0,y.Z)(w,[["render",f]]);var x=g,v=a(2083),_={data(){return{modalActive:!1,savedCities:[]}},components:{BaseModal:x},methods:{addCity(){localStorage.getItem("sevedCities")&&(this.savedCities=JSON.parse(localStorage.getItem("sevedCities")));const e={id:(0,v.h)(),state:this.$route.params.state,city:this.$route.params.city,coords:{lat:this.$route.query.lat,lon:this.$route.query.lon}};this.savedCities.push(e),localStorage.setItem("sevedCities",JSON.stringify(this.savedCities));let t=Object.assign({},this.$route.query);delete t.preview,t.id=e.id,this.$router.replace({query:t})},toggleModal(){this.modalActive=!this.modalActive}}};const b=(0,y.Z)(_,[["render",m]]);var k=b,C={components:{SiteNavigation:k}};const D=(0,y.Z)(C,[["render",i]]);var S=D,W=a(2483),T=a(7139);const $={class:"container text-[#fff]"},q={class:"pt-4 mb-8 relative"},j={key:0,class:"absolute bg-weather-secondary text-[#fff] w-full shadow-md py-2 px-1 top-[66px]"},z={key:0},M={key:1,class:"py-2"},O=["onClick"],A={class:"flex flex-col gap-4"};function L(e,t,a,r,i,l){const n=(0,o.up)("CityList");return(0,o.wg)(),(0,o.iD)("main",$,[(0,o._)("div",q,[(0,o.wy)((0,o._)("input",{type:"text",placeholder:"Search for a city or state","onUpdate:modelValue":t[0]||(t[0]=e=>i.querySerach=e),onKeypress:t[1]||(t[1]=e=>l.getSearchResults(i.querySerach)),onInput:t[2]||(t[2]=e=>l.getSearchResults(i.querySerach)),class:"py-2 px-1 w-full bg-[transparent] border-b focus:border-weather-secondary focus:outline-none focus:shadow-[0px_1px_0_0_#004E71]"},null,544),[[s.nr,i.querySerach]]),i.mapboxSearchReuslts?((0,o.wg)(),(0,o.iD)("ul",j,[i.searchError?((0,o.wg)(),(0,o.iD)("p",z,"Sorry, something went wrong, please try again.")):i.searchError||0!==i.mapboxSearchReuslts.length?((0,o.wg)(!0),(0,o.iD)(o.HY,{key:2},(0,o.Ko)(i.mapboxSearchReuslts,(e=>((0,o.wg)(),(0,o.iD)("li",{key:e.id,onClick:t=>l.previewCity(e),class:"py-2 cursor-pointer"},(0,T.zw)(e.place_name),9,O)))),128)):((0,o.wg)(),(0,o.iD)("p",M," No results match your query, try a different term. "))])):(0,o.kq)("",!0)]),(0,o._)("div",A,[(0,o.Wm)(n)])])}const I={key:0},R={key:1,class:"flex py-6 px-3 justify-center bg-weather-secondary rounded-md shadow-md"},N=(0,o._)("p",null," Sorry, something went wrong, please try again.",-1),V=[N],Z={key:2},H={key:0};function E(e,t,a,s,r,i){const l=(0,o.up)("CityCardSkeleton"),n=(0,o.up)("CityCard");return(0,o.wg)(),(0,o.iD)("div",null,[r.loading?((0,o.wg)(),(0,o.iD)("div",I,[(0,o.Wm)(l)])):r.errorMessage?((0,o.wg)(),(0,o.iD)("div",R,V)):((0,o.wg)(),(0,o.iD)("div",Z,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.requests,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e.id},[(0,o.Wm)(n,{city:e,onClick:t=>i.goToCityView(e)},null,8,["city","onClick"])])))),128)),0===r.savedCities.length?((0,o.wg)(),(0,o.iD)("div",H," No locations added. To start tracking a location, search in the field above. ")):(0,o.kq)("",!0)]))])}const J={class:"flex py-6 px-3 bg-weather-secondary rounded-md shadow-md cursor-pointer"},F={class:"flex flex-col flex-1 text-start"},P={class:"text-3xl"},Y={class:"flex flex-col gap-2"},K={class:"text-3xl self-end"},B={class:"flex gap-2"},G={class:"text-xs"},U={class:"text-xs"};function Q(e,t,a,s,r,i){return(0,o.wg)(),(0,o.iD)("div",J,[(0,o._)("div",F,[(0,o._)("h2",P,(0,T.zw)(a.city?.city),1),(0,o._)("h3",null,(0,T.zw)(a.city?.state),1)]),(0,o._)("div",Y,[(0,o._)("p",K,(0,T.zw)(Math.round(a.city?.main?.temp))+"°",1),(0,o._)("div",B,[(0,o._)("span",G," H: "+(0,T.zw)(Math.round(a.city?.main?.temp_max))+"° ",1),(0,o._)("span",U," L: "+(0,T.zw)(Math.round(a.city?.main?.temp_min))+"° ",1)])])])}var X={props:{city:{type:Object,default:()=>{}}}};const ee=(0,y.Z)(X,[["render",Q]]);var te=ee;const ae={class:"flex py-6 px-3 bg-weather-secondary rounded-md shadow-md"},se={class:"flex flex-col flex-1 grap-2"},oe={class:"flex flex-col items-end flex-1 grap-2"};function re(e,t,a,s,r,i){const l=(0,o.up)("AnimatedPlaceholder");return(0,o.wg)(),(0,o.iD)("div",ae,[(0,o._)("div",se,[(0,o.Wm)(l,{class:"max-w-[50%]"}),(0,o.Wm)(l,{class:"max-w-[40%]"})]),(0,o._)("div",oe,[(0,o.Wm)(l,{class:"max-w-[50%] w-full"}),(0,o.Wm)(l,{class:"max-w-[40%] w-full"})])])}const ie={class:"animate-pulse bg-gradient-to-r from-[gray]"};function le(e,t){return(0,o.wg)(),(0,o.iD)("div",ie,"   ")}const ne={},ce=(0,y.Z)(ne,[["render",le]]);var ue=ce,de={components:{AnimatedPlaceholder:ue}};const me=(0,y.Z)(de,[["render",re]]);var he=me,pe={data(){return{savedCities:[],requests:[],loading:!1,errorMessage:null}},components:{CityCard:te,CityCardSkeleton:he},methods:{getCities(){setTimeout((async()=>{localStorage.getItem("sevedCities")&&(this.savedCities=JSON.parse(localStorage.getItem("sevedCities"))),this.savedCities.forEach((e=>{setTimeout((async()=>{try{const t=await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${e.coords.lat}&lon=${e.coords.lon}&appid=7efa332cf48aeb9d2d391a51027f1a71&units=metric`),a=await t.json();this.loading=!0,console.log(a),this.requests.push({id:e.id,city:e.city,state:e.state,coords:{lat:e.coords.lat,lon:e.coords.lon},main:a.main}),setTimeout((()=>{this.loading=!1}),1e3)}catch{this.errorMessage=!0}}),300)}))}),300)},goToCityView(e){this.$router.push({name:"CityView",params:{state:e.state,city:e.city},query:{id:e.id,lat:e.coords.lat,lon:e.coords.lon}})}},mounted(){this.getCities()}};const fe=(0,y.Z)(pe,[["render",E]]);var we=fe,ye={name:"HomeView",components:{CityList:we},data(){return{querySerach:"",mapboxSearchReuslts:null,queryTimeout:null,searchError:null}},methods:{getSearchResults(e){const t="pk.eyJ1Ijoiam9obmtvbWFybmlja2kiLCJhIjoiY2t5NjFzODZvMHJkaDJ1bWx6OGVieGxreSJ9.IpojdT3U3NENknF6_WhR2Q";this.queryTimeout=setTimeout((async()=>{if(""!==this.querySerach){try{const a=await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${e}.json?access_token=${t}&types=place`),s=await a.json();return void(this.mapboxSearchReuslts=s.features)}catch{this.searchError=!0}this.mapboxSearchReuslts=null}}),300)},previewCity(e){const[t,a]=e.place_name.split(",");this.$router.push({name:"CityView",params:{state:a.replaceAll(" "," "),city:t},query:{lat:e.geometry.coordinates[0],lon:e.geometry.coordinates[1],preview:!0}})}}};const ge=(0,y.Z)(ye,[["render",L]]);var xe=ge;function ve(e,t,a,s,r,i){const l=(0,o.up)("AsyncCityView");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(l)])}const _e={key:1,class:"flex flex-col flex-1 items-center"},be={key:0,class:"text-[#fff] p-4 bg-weather-secondary w-full text-center"},ke=(0,o._)("p",null,'You are currently previewing this city, click the "+" icon to start tracking this city.',-1),Ce=[ke],De={key:1,class:"flex flex-col items-center text-[#fff] py-12"},Se={class:"text-4xl mb-2"},We={class:"text-sm mb-12"},Te={class:"text-8xl mb-8"},$e={class:"text-center"},qe={class:"capitalize"},je=["src"],ze=(0,o._)("hr",{class:"border-[#fff] border-opacity-10 border w-full"},null,-1),Me={class:"max-w-screen-md w-full py-12"},Oe={class:"mx-8 text-[#fff]"},Ae=(0,o._)("h2",{class:"mb-4"},"Hourly Weather",-1),Le={class:"flex gap-10 overflow-x-scroll"},Ie={class:"whitespace-nowrap text-md"},Re=["src"],Ne={class:"text-xl"},Ve={class:"max-w-screen-md w-full py-12"},Ze={class:"mx-8 text-[#fff]"},He=(0,o._)("h2",{class:"mb-4"},"7 Day Forecast",-1),Ee={class:"flex-1"},Je=["src"],Fe={class:"flex gap-2 flex-1 justify-end"},Pe=(0,o._)("i",{class:"fa-solid fa-trash"},null,-1),Ye=(0,o._)("p",null,"Remove City",-1),Ke=[Pe,Ye];function Be(e,t,a,s,r,i){const l=(0,o.up)("CityViewSkeleton");return(0,o.wg)(),(0,o.iD)("div",null,[r.loading?((0,o.wg)(),(0,o.j4)(l,{key:0})):((0,o.wg)(),(0,o.iD)("div",_e,[e.$route.query.preview?((0,o.wg)(),(0,o.iD)("div",be,Ce)):(0,o.kq)("",!0),r.weatherData?((0,o.wg)(),(0,o.iD)("div",De,[(0,o._)("h1",Se,(0,T.zw)(e.$route.params.city),1),(0,o._)("p",We,(0,T.zw)(new Date(r.weatherData.currentTime).toLocaleDateString("en-us",{weekday:"short",day:"2-digit",month:"long"}))+" "+(0,T.zw)(new Date(r.weatherData.currentTime).toLocaleTimeString("en-us",{timeStyle:"short"})),1),(0,o._)("p",Te,(0,T.zw)(Math.round(r.weatherData.current.temp))+"° ",1),(0,o._)("div",$e,[(0,o._)("p",null," Feels like "+(0,T.zw)(Math.round(r.weatherData.current.feels_like))+" ° ",1),(0,o._)("p",qe,(0,T.zw)(r.weatherData.current.weather[0].description),1),(0,o._)("img",{class:"w-[150px] h-auto",src:`http://openweathermap.org/img/wn/${r.weatherData.current.weather[0].icon}@2x.png`,alt:""},null,8,je)])])):(0,o.kq)("",!0),ze,(0,o._)("div",Me,[(0,o._)("div",Oe,[Ae,(0,o._)("div",Le,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.weatherData?.hourly,(e=>((0,o.wg)(),(0,o.iD)("div",{class:"flex flex-col gap-4 items-center",key:e.dt},[(0,o._)("p",Ie,(0,T.zw)(new Date(e.currentTime).toLocaleTimeString("en-us",{hour:"numeric"})),1),(0,o._)("img",{class:"w-auto h-[50px] object-cover",src:`http://openweathermap.org/img/wn/${e.weather[0].icon}@2x.png`,alt:""},null,8,Re),(0,o._)("p",Ne,(0,T.zw)(Math.round(e.temp))+"°",1)])))),128))])])]),(0,o._)("div",Ve,[(0,o._)("div",Ze,[He,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.weatherData?.daily,(e=>((0,o.wg)(),(0,o.iD)("div",{class:"flex items-center",key:e.dt},[(0,o._)("p",Ee,(0,T.zw)(new Date(1e3*e.dt).toLocaleDateString("en-us",{weekday:"long"})),1),(0,o._)("img",{class:"w-auto h-[50px] object-cover",src:`http://openweathermap.org/img/wn/${e.weather[0].icon}@2x.png`,alt:""},null,8,Je),(0,o._)("div",Fe,[(0,o._)("p",null,"H: "+(0,T.zw)(Math.round(e.temp.max)),1),(0,o._)("p",null,"L: "+(0,T.zw)(Math.round(e.temp.min)),1)])])))),128))])]),(0,o._)("div",{class:"flex items-center gap-2 py-12 text-[#fff] cursor-pointer duration-150 hover:text-[red]",onClick:t[0]||(t[0]=(...e)=>i.removeCity&&i.removeCity(...e))},Ke)]))])}const Ge={class:"flex flex-col flex-1"},Ue={class:"flex flex-col py-12 items-center"},Qe={class:"flex flex-col py-12 px-8 items-center"},Xe={class:"flex flex-col py-12 px-8 items-center"};function et(e,t,a,s,r,i){const l=(0,o.up)("AnimatedPlaceholder");return(0,o.wg)(),(0,o.iD)("div",Ge,[(0,o._)("div",Ue,[(0,o.Wm)(l,{class:"max-w-[300px] w-full mb-2"}),(0,o.Wm)(l,{class:"max-w-[300px] w-full mb-12"}),(0,o.Wm)(l,{class:"max-w-[300px] h-[100px] w-full mb-12"}),(0,o.Wm)(l,{class:"max-w-[300px] w-full mb-8"}),(0,o.Wm)(l,{class:"max-w-[300px] h-[75px] w-full"})]),(0,o._)("div",Qe,[(0,o.Wm)(l,{class:"max-w-screen-md h-[100px] w-full mb-12"})]),(0,o._)("div",Xe,[(0,o.Wm)(l,{class:"max-w-screen-md h-[100px] w-full mb-12"})])])}var tt={components:{AnimatedPlaceholder:ue}};const at=(0,y.Z)(tt,[["render",et]]);var st=at,ot={data(){return{loading:!1,weatherData:null}},components:{CityViewSkeleton:st},methods:{getWeahterData(){setTimeout((async()=>{try{this.loading=!0;const e=await fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${this.$route.query.lat}&lon=${this.$route.query.lon}&exclude={part}&appid=49cc8c821cd2aff9af04c9f98c36eb74&units=metric`),t=await e.json(),a=6e4*(new Date).getTimezoneOffset(),s=1e3*t.current.dt+a;t.currentTime=s+1e3*t.timezone_offset,t.hourly.forEach((e=>{const s=1e3*e.dt+a;e.currentTime=s+1e3*t.timezone_offset})),this.weatherData=t,setTimeout((()=>{this.loading=!1}),1e3)}catch(e){console.log(e)}}),300)},removeCity(){const e=JSON.parse(localStorage.getItem("sevedCities")),t=e.filter((e=>e.id!==this.$route.query.id));localStorage.setItem("sevedCities",JSON.stringify(t)),this.$router.push({name:"home"})}},mounted(){this.getWeahterData()}};const rt=(0,y.Z)(ot,[["render",Be]]);var it=rt,lt={components:{AsyncCityView:it},methods:{},mounted(){}};const nt=(0,y.Z)(lt,[["render",ve]]);var ct=nt;const ut=[{path:"/",name:"home",component:xe,meta:{title:"Home"}},{path:"/weather/:state/:city",name:"CityView",component:ct,meta:{title:"Weather"}}],dt=(0,W.p7)({history:(0,W.PO)("/"),routes:ut});dt.beforeEach(((e,t,a)=>{document.title=`${e.params.state?`${e.params.city}, ${e.params.state}`:e.meta.title} | The Local Weather`,a()}));var mt=dt;(0,s.ri)(S).use(mt).mount("#app")}},t={};function a(s){var o=t[s];if(void 0!==o)return o.exports;var r=t[s]={exports:{}};return e[s](r,r.exports,a),r.exports}a.m=e,function(){var e=[];a.O=function(t,s,o,r){if(!s){var i=1/0;for(u=0;u<e.length;u++){s=e[u][0],o=e[u][1],r=e[u][2];for(var l=!0,n=0;n<s.length;n++)(!1&r||i>=r)&&Object.keys(a.O).every((function(e){return a.O[e](s[n])}))?s.splice(n--,1):(l=!1,r<i&&(i=r));if(l){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[s,o,r]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var o,r,i=s[0],l=s[1],n=s[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(o in l)a.o(l,o)&&(a.m[o]=l[o]);if(n)var u=n(a)}for(t&&t(s);c<i.length;c++)r=i[c],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(u)},s=self["webpackChunkapp_vue_weather"]=self["webpackChunkapp_vue_weather"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[998],(function(){return a(8772)}));s=a.O(s)})();
//# sourceMappingURL=app.9dc9adc4.js.map